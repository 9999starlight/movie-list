(window["webpackJsonpmovie-list"]=window["webpackJsonpmovie-list"]||[]).push([[0],{43:function(e,t,a){e.exports=a(82)},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},55:function(e,t,a){},75:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(40),s=a.n(i),o=(a(48),a(3)),r=a(4),c=a(6),m=a(5),u=a(7),d=a(12),h=a(13);a(49),a(50);var v=function(){return l.a.createElement("header",{className:"flex p1",id:"nav"},l.a.createElement("h4",null,"Movie List"),l.a.createElement("nav",{className:"flexCenter"},l.a.createElement("ul",{className:"navUl flex"},l.a.createElement("li",null,l.a.createElement(d.Link,{to:"/"},"Search")),l.a.createElement("li",null,l.a.createElement(d.Link,{to:"/movies_list/"},"My List")))))};a(55);var p=function(){return l.a.createElement("div",{className:"loaderContainer flex flexCenter"},l.a.createElement("div",{className:"loader"}))},f=a(18),g=a.n(f),E=a(19),b=a(24),y=a.n(b);a(72);y.a.initializeApp({apiKey:"AIzaSyAmjtwJhPPoQjHg-o_EjC-aiSCtmGzJtzQ",authDomain:"movie-list-3d942.firebaseapp.com",databaseURL:"https://movie-list-3d942.firebaseio.com",projectId:"movie-list-3d942",storageBucket:"movie-list-3d942.appspot.com",messagingSenderId:"1080619382778",appId:"1:1080619382778:web:76dafc6c33618e08ba5643",measurementId:"G-LQSSR2GBPF"});var w=y.a.firestore(),D=(a(75),a(16)),N=a(17),k=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={singleMovieDetails:[],loading:!1,dataResponse:!0},a.getMovieDetails=function(){a.showLoader(),g.a.get("http://www.omdbapi.com/?i=".concat(Object.values(a.props).join(""),"&apikey=a56835b9")).then((function(e){"False"!==e.data.Response?(a.hideloader(),a.setState({singleMovieDetails:e.data,dataResponse:!0})):a.setState({dataResponse:!1})})).catch((function(e){console.log(e.message)}))},a.addMovieToList=function(){w.collection("movies").where("movieId","==",a.state.singleMovieDetails.imdbID).get().then((function(e){e.docs.length?alert("You have already added that item to the list!"):(w.collection("movies").add({favorite:!1,genre:a.state.singleMovieDetails.Genre,imdbLink:"https://www.imdb.com/title/".concat(Object.values(a.props).join("")),imdbRate:a.state.singleMovieDetails.imdbRating,movieId:a.state.singleMovieDetails.imdbID,title:a.state.singleMovieDetails.Title,type:a.state.singleMovieDetails.Type,year:a.state.singleMovieDetails.Year,image:a.state.singleMovieDetails.Poster}),alert("Added to your list"))})).catch((function(e){console.log(e.message)}))},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"showLoader",value:function(){this.setState({loading:!0})}},{key:"hideloader",value:function(){this.setState({loading:!1})}},{key:"componentDidMount",value:function(){this.getMovieDetails()}},{key:"componentDidUpdate",value:function(e,t){e.singleMovieDetails!==this.props.singleMovieDetails&&this.setState({singleMovieDetails:this.props.singleMovieDetails})}},{key:"render",value:function(){return l.a.createElement("div",{className:"detailsContainer radius"},this.state.loading?l.a.createElement(p,null):null,this.state.dataResponse?l.a.createElement("div",{className:"film"},l.a.createElement("div",{className:"info-poster radius"},l.a.createElement("a",{href:this.state.singleMovieDetails.Poster,rel:"noopener noreferrer",target:"_blank"},l.a.createElement("img",{src:this.state.singleMovieDetails.Poster,alt:"film poster",className:"block biggerImage"})),l.a.createElement("div",{className:"singleMovie"},l.a.createElement("h2",null,this.state.singleMovieDetails.Title),l.a.createElement("h3",null,"Year: ",this.state.singleMovieDetails.Year),l.a.createElement("h3",null,"Type: ",this.state.singleMovieDetails.Type),l.a.createElement("h3",null,"Genre: ",this.state.singleMovieDetails.Genre),l.a.createElement("h3",null,"IMDB Rating: ",this.state.singleMovieDetails.imdbRating),l.a.createElement("button",{className:"btn addMovieBtn radius",onClick:this.addMovieToList},"Add to watchlist"),l.a.createElement(E.HashLink,{to:"/#nav",scroll:function(e){return e.scrollIntoView({behavior:"smooth",block:"end"})},className:"topLink"},"Back To Top \xa0 ",l.a.createElement(D.a,{icon:N.b,className:"handIcon"})))),l.a.createElement("div",{className:"otherDetails flex"},l.a.createElement("h4",null,l.a.createElement("strong",null,"Actors:")," ",this.state.singleMovieDetails.Actors),l.a.createElement("h4",null,l.a.createElement("strong",null,"Awards:")," ",this.state.singleMovieDetails.Awards),l.a.createElement("h4",null,l.a.createElement("strong",null,"Runtime:")," ",this.state.singleMovieDetails.Runtime),l.a.createElement("h4",null,l.a.createElement("strong",null,"Country:")," ",this.state.singleMovieDetails.Country),l.a.createElement("p",null,l.a.createElement("strong",null,"Plot:")," ",this.state.singleMovieDetails.Plot),l.a.createElement("h4",null,l.a.createElement("strong",null,"Writer:")," ",this.state.singleMovieDetails.Writer),l.a.createElement("h3",null,l.a.createElement("strong",null,"Director:")," ",this.state.singleMovieDetails.Director))):l.a.createElement("div",null,l.a.createElement("h3",null,"No details available!")))}}]),t}(l.a.Component),M=(a(78),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={on:!1},a.toggle=function(){a.setState({on:!a.state.on})},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"movieBoxWrapper"},l.a.createElement("div",{className:"movieBox p1 grid radius"},l.a.createElement("img",{src:this.props.movie.Poster,alt:"film poster",className:"block smallImage shadow"}),l.a.createElement("div",{className:"movieInfo flex"},l.a.createElement("p",{className:"movieTitle"},this.props.movie.Title),l.a.createElement("p",{className:"movieYear"},"Year: ",this.props.movie.Year),l.a.createElement("p",{className:"movieType"},"Type: ",this.props.movie.Type)),l.a.createElement("div",{onClick:this.toggle,className:"btnDetailsWrapper flex flexCenter"},l.a.createElement("p",{className:"detailsText"},"More details"),l.a.createElement("p",{className:"arrow"},l.a.createElement(D.a,{icon:N.a})))),this.state.on&&l.a.createElement(k,this.props.movie.imdbID))}}]),t}(l.a.Component)),j=(a(79),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={movieSearchResult:a.props.movieSearchResult},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.movieSearchResult!==this.props.movieSearchResult&&this.setState({movieSearchResult:this.props.movieSearchResult})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"renderResult"},this.state.movieSearchResult.map((function(t,a){return l.a.createElement(M,{key:a,movie:t,searchValue:e.props.searchValue})})))}}]),t}(l.a.Component)),S=(a(80),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={searchValue:""},a.onChange=function(e){return a.setState({searchValue:e.target.value})},a.onKeyUp=function(e){e.preventDefault(),a.props.getMovies(a.state.searchValue)},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"searchBox flex flexCenter p1"},l.a.createElement("div",{className:"search"},l.a.createElement("h1",{className:"mb1"},"Search for movies or tv shows"),l.a.createElement("h3",{className:"mb1"},"Add movies to watchlist and mark your favorites"),l.a.createElement("div",{className:"flexCenter"},l.a.createElement("input",{type:"text",id:"search",className:"radius mb1 searchArea shadow",value:this.state.searchValue,onChange:this.onChange,autoFocus:!0,placeholder:"Enter title or keyword",onKeyUp:this.onKeyUp}),l.a.createElement("p",null,"Start typing to search..."))))}}]),t}(l.a.Component)),O=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={movieSearchResult:[],loading:!1,dataResponse:!0},a.getMovies=function(e){a.showLoader(),g.a.get("http://www.omdbapi.com/?s=".concat(e,"&apikey=a56835b9")).then((function(e){a.hideloader(),"False"!==e.data.Response?a.setState({movieSearchResult:e.data.Search,dataResponse:!0}):a.setState({dataResponse:!1})})).catch((function(e){console.log(e.message)}))},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"showLoader",value:function(){this.setState({loading:!0})}},{key:"hideloader",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){return l.a.createElement("div",{className:"p1",id:"startSearch"},l.a.createElement(S,{getMovies:this.getMovies}),this.state.loading?l.a.createElement(p,null):null,this.state.dataResponse?l.a.createElement(j,{movieSearchResult:this.state.movieSearchResult,searchValue:this.state.searchValue}):l.a.createElement("div",null,l.a.createElement("h3",null,"Searching for title or movie not found!")))}}]),t}(l.a.Component),R=(a(81),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={fetchedDatabase:[]},a.snapshotFunction=function(e,t){e.docs.forEach((function(e){var a=e.data();a.dbId=e.id,t.push(a)})),a.setState({fetchedDatabase:t})},a.fetchMoviesCollection=function(){var e=[];w.collection("movies").get().then((function(t){a.snapshotFunction(t,e)}),(function(e){return console.log(e.message)}))},a.sortByAbc=function(){var e=[];w.collection("movies").orderBy("title").get().then((function(t){a.snapshotFunction(t,e)}),(function(e){return console.log(e.message)}))},a.sortByRating=function(){var e=[];w.collection("movies").orderBy("imdbRate").get().then((function(t){a.snapshotFunction(t,e)}),(function(e){return console.log(e.message)}))},a.getUpdatedData=function(){var e=[];w.collection("movies").get().then((function(t){t.docs.forEach((function(t){var a=t.data();a.dbId=t.id,e.push(a)})),a.setState({fetchedDatabase:e})})).catch((function(e){return console.log(e.message)}))},a.deleteItem=function(e){var t=e.target.parentElement.parentElement.getAttribute("id");w.collection("movies").doc(t).delete().then((function(){a.getUpdatedData()}))},a.addToFavorites=function(e){var t=e.target.parentElement.parentElement.getAttribute("id");w.collection("movies").doc(t).update({favorite:!0}).then((function(){a.getUpdatedData()}))},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.fetchMoviesCollection()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"watchlist p1 flex flexCenter",id:"mylist"},l.a.createElement("h1",{id:"watchlist"},"Watchlist"),l.a.createElement("div",{className:"listContainer"},l.a.createElement("div",{className:"buttons flex flexCenter"},l.a.createElement("button",{onClick:this.sortByAbc,className:"btnSort radius"},"Sort A-Z"),l.a.createElement("button",{onClick:this.sortByRating,className:"btnSort radius"},"Sort by IMDB rating")),l.a.createElement("ul",{className:"list flex flexCenter"},this.state.fetchedDatabase.map((function(t){return l.a.createElement("li",{key:t.dbId,id:t.dbId,className:"grid listItem"},l.a.createElement("div",{className:"titlesWrapper flex flexCenter"},l.a.createElement("h3",null,t.title),l.a.createElement("h5",null,"Year: ",t.year),l.a.createElement("h5",null,"Type: ",t.type),l.a.createElement("h5",null,"Genre: ",t.genre)),l.a.createElement("img",{src:t.image,alt:"film poster",className:"block listImage shadow"}),l.a.createElement("div",{className:"imdbWrapper flex"},l.a.createElement("h4",null,"Imdb Rating: ",t.imdbRate),l.a.createElement("h5",null,l.a.createElement("a",{href:t.imdbLink,rel:"noopener noreferrer",target:"_blank",className:"imdbLink"},"IMDB Link")),l.a.createElement("p",{className:t.favorite?"star yellow":"star"},"\u272f")),l.a.createElement("div",{className:"favWrapper flex flexCenter"},l.a.createElement("button",{onClick:e.addToFavorites,className:"btnList addFav radius",disabled:t.favorite},"Add to favorites"),l.a.createElement("button",{onClick:function(t){return window.confirm("Are you sure you want to delete this item?")&&e.deleteItem(t)},className:"btnList delete radius"},"Delete")))})),l.a.createElement(E.HashLink,{to:"#watchlist",scroll:function(e){return e.scrollIntoView({behavior:"smooth",block:"end"})},className:"topLink hash radius"},"Back To Top \xa0 ",l.a.createElement(D.a,{icon:N.b,className:"handIcon"})))))}}]),t}(l.a.Component)),C=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(d.BrowserRouter,null,l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"container"},l.a.createElement(v,null),l.a.createElement(h.d,{exact:!0,path:"/",component:O}),l.a.createElement(h.d,{path:"/movies_list/",component:R}))))}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(d.HashRouter,null,l.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.241ce4a4.chunk.js.map